<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.6.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
    <changeSet id="1" author="bzawadzki">
        <createTable tableName="category">
            <column name="id" autoIncrement="true" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR">
                <constraints nullable="false" unique="true"/>
            </column>
        </createTable>

        <createTable tableName="products">
            <column name="id" autoIncrement="true" type="BIGINT">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="name" type="VARCHAR">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="description" type="VARCHAR"/>
            <column name="category" type="BIGINT">
                <constraints nullable="false" referencedTableName="category" referencedColumnNames="id" foreignKeyName="fk_category_products_id"/>
            </column>
            <column name="net_price" type="DECIMAL">
                <constraints nullable="false"/>
            </column>
            <column name="tax" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="market_price" type="DECIMAL">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <sql>
            INSERT INTO category(name)
            VALUES
            ('Sport'),
            ('Home'),
            ('Electronics'),
            ('Animal'),
            ('Clothes');


            INSERT INTO products(name, description, category, net_price, tax, market_price) VALUES
            ('FAST BIKE', 'MTB', 1, 5000,23,7000),
            ('SLOW BIKE', 'CROSS', 1, 1455,23,2300),
            ('MAC BOOK', 'LAPTOP', 3, 8000,23,10000),
            ('BED', 'Comfortable', 2, 1999.50,8,2900.50),
            ('Lizard', 'Cool pet', 4, 200,0,300),
            ('VERY FAST BIKE', 'MTB', 1, 5555.55,23,7888.88),
            ('T-SHIRT', 'Funny', 5, 25.99,23,45.99),
            ('TV 55"', 'Big screen', 2, 4999.99,23,6000),
            ('Galaxy S9', 'Phone', 3, 2600,23,3299.99)
        </sql>
    </changeSet>
</databaseChangeLog>